<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>🐶 DOGS API 🐶</title>
  </head>
  <body>
    <header>DOG LIST:</header>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/superagent/4.1.0/superagent.min.js"
      integrity="sha512-LJaxxgpiq7SihGQ21nejROsll6FRrgbs0Wxtgqb5x+Q0CJICA3vt8hlBxSD8NLsO+Yabgg3B7ARexiijKiojGg=="
      crossorigin="anonymous"
    ></script>
    <script>
      console.log(
        "%c 🐶 DOGS APP STARTED!",
        "color: green; font-weight: bold;"
      );

      function breedsDataCallback(err, res) {
        if (err) {
          alert(err);
          return;
        }

        var dogsString = res.body
          .map((dog) => dog.name)
          .filter((el, i, arr) => {
            for (let j = 65; j < 87; j++)
              if (
                el[0] === String.fromCharCode(j) &&
                arr[i + 2][0] !== String.fromCharCode(j)
              )
                return true;
              else if (el[0] === "X" && arr[i + 1][0] !== "X") return true;
            if (el[0] === "Y") return true;
          });

        for (var i = 0; i < dogsString.length; i++) {
          console.log(dogsString[i]); // Text, DIV, Text, UL, ..., SCRIPT
          let newLi = document.createElement("p");
          newLi.innerText = `${i + 1}. ${dogsString[i]}`;
          document.body.appendChild(newLi);
        }
      }

      superagent
        .get("https://api.thedogapi.com/v1/breeds")
        .end(breedsDataCallback);

      console.log(
        "%c 🐶 SYNC CODE FINISHED!",
        "color: green; font-weight: bold;"
      );
    </script>
  </body>
</html>
